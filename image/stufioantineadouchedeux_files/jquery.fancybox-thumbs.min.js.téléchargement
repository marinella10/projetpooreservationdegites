!function(t){var i=t.fancybox;i.helpers.thumbs={wrap:null,list:null,width:0,source:function(i){var h;return"string"===t.type(i)?i:(h=t(i).find("img"),h.length?h.attr("src"):i.href)},init:function(h){var s,e=this,o=h.width||50,n=h.height||50,r=h.source||this.source;s="";for(var a=0;a<i.group.length;a++)s+='<li><a style="width:'+o+"px;height:"+n+'px;" href="javascript:jQuery.fancybox.jumpto('+a+');"></a></li>';this.wrap=t('<div id="fancybox-thumbs"></div>').addClass(h.position||"bottom").appendTo("body"),this.list=t("<ul>"+s+"</ul>").appendTo(this.wrap),t.each(i.group,function(h){t("<img />").load(function(){var i,s,r,a=this.width,d=this.height;e.list&&a&&d&&(i=a/o,s=d/n,r=e.list.children().eq(h).find("a"),i>=1&&s>=1&&(i>s?(a=Math.floor(a/s),d=n):(a=o,d=Math.floor(d/i))),t(this).css({width:a,height:d,top:Math.floor(n/2-d/2),left:Math.floor(o/2-a/2)}),r.width(o).height(n),t(this).hide().appendTo(r).fadeIn(300))}).attr("src",r(i.group[h]))}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(.5*t(window).width()-(i.current.index*this.width+.5*this.width)))},update:function(h){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*t(window).width()-(i.current.index*this.width+.5*this.width))},150)},beforeLoad:function(t){return i.group.length<2?void(i.coming.helpers.thumbs=!1):void(i.coming.margin["top"===t.position?0:2]=t.height+30)},afterShow:function(t){this.list?this.update(t):this.init(t),this.list.children().removeClass("active").eq(i.current.index).addClass("active")},onUpdate:function(){this.update()},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);